<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>雷达图</title>
  <link rel="stylesheet" href="./assets/common.css">
</head>
<body>
<div>
  <canvas id="mountNode"></canvas>
</div>
<script src="./assets/jquery-3.2.1.min.js"></script>
<script src="../build/f2.js"></script>
<script>
  const { Util, Global } = F2;
  const data = [
    { item: 'Design', user: 'a', score: 70 },
    { item: 'Design', user: 'b', score: 30 },
    { item: 'Development', user: 'a', score: 60 },
    { item: 'Development', user: 'b', score: 70 },
    { item: 'Marketing', user: 'a', score: 50 },
    { item: 'Marketing', user: 'b', score: 60 },
    { item: 'Users', user: 'a', score: 40 },
    { item: 'Users', user: 'b', score: 50 },
    { item: 'Test', user: 'a', score: 60 },
    { item: 'Test', user: 'b', score: 70 },
    { item: 'Language', user: 'a', score: 70 },
    { item: 'Language', user: 'b', score: 50 },
    { item: 'Technology', user: 'a', score: 70 },
    { item: 'Technology', user: 'b', score: 40 },
    { item: 'Support', user: 'a', score: 60 },
    { item: 'Support', user: 'b', score: 40 }
  ];
  const chart = new F2.Chart({
    id: 'mountNode',
    width: window.innerWidth,
    height: window.innerHeight,
    pixelRatio: window.devicePixelRatio
  });

  chart.coord('polar');
  chart.source(data, {
    score: {
      min: 0,
      max: 120,
      nice: false,
      tickCount: 4
    }
  });
  chart.legend({
    position: 'left'
  });
  chart.tooltip(false);
  chart.axis('score', {
    label(text, index, total) {
      if (index === total - 1) {
        return null;
      }
      // TODO: 这种方式有点难受
      return {
        text,
        textAlign: 'end',
        textBaseline: 'bottom',
        fill: 'rgba(0, 0, 0, 0.45)',
        fontSize: 20
      };
    },
    grid(text, index) {
      if (text === '120') {
        return {
          stroke: 'rgba(0, 0, 0, 0.09)',
          lineWidth: 1
        }
      }

      return {
        stroke: 'rgba(0, 0, 0, 0.09)',
        lineWidth: 1,
        lineDash: [ 4 ]
      };
    }
  });
  chart.line().position('item*score').color('user').size(2);
  chart.render();
</script>
</body>
</html>
